{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Native project\\\\photofeed complete\\\\app\\\\components\\\\auth.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { f, auth, database, storage } from \"../../config/config\";\n\nvar UserAuth = function (_React$Component) {\n  _inherits(UserAuth, _React$Component);\n\n  var _super = _createSuper(UserAuth);\n\n  function UserAuth(props) {\n    var _this;\n\n    _classCallCheck(this, UserAuth);\n\n    _this = _super.call(this, props);\n\n    _this.login = function _callee() {\n      var email, pass, user;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              email = _this.state.email;\n              pass = _this.state.pass;\n\n              if (!(email != '' && pass != '')) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(auth.signInWithEmailAndPassword(email, pass));\n\n            case 6:\n              user = _context.sent;\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](3);\n              console.log(_context.t0);\n              alert(_context.t0);\n\n            case 13:\n              _context.next = 16;\n              break;\n\n            case 15:\n              alert('email or password is empty..');\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[3, 9]], Promise);\n    };\n\n    _this.createUserObj = function (userObj, email) {\n      console.log(userObj, email, userObj.uid);\n      var uObj = {\n        name: 'Enter name',\n        username: '@name',\n        avatar: 'http://www.gravatar.com/avatar',\n        email: email\n      };\n      database.ref('users').child(userObj.uid).set(uObj);\n    };\n\n    _this.signup = function _callee2() {\n      var email, pass, user;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              email = _this.state.email;\n              pass = _this.state.pass;\n\n              if (!(email != '' && pass != '')) {\n                _context2.next = 15;\n                break;\n              }\n\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(auth.createUserWithEmailAndPassword(email, pass).then(function (userObj) {\n                return _this.createUserObj(userObj.user, email);\n              }).catch(function (error) {\n                return alert(error);\n              }));\n\n            case 6:\n              user = _context2.sent;\n              _context2.next = 13;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](3);\n              console.log(_context2.t0);\n              alert(_context2.t0);\n\n            case 13:\n              _context2.next = 16;\n              break;\n\n            case 15:\n              alert('email or password is empty..');\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[3, 9]], Promise);\n    };\n\n    _this.componentDidMount = function () {\n      if (_this.props.moveScreen == true) {\n        _this.setState({\n          moveScreen: true\n        });\n      }\n    };\n\n    _this.showLogin = function () {\n      if (_this.state.moveScreen == true) {\n        _this.props.navigation.navigate('Upload');\n\n        return false;\n      }\n\n      _this.setState({\n        authStep: 1\n      });\n    };\n\n    _this.showSignup = function () {\n      if (_this.state.moveScreen == true) {\n        _this.props.navigation.navigate('Upload');\n\n        return false;\n      }\n\n      _this.setState({\n        authStep: 2\n      });\n    };\n\n    _this.state = {\n      authStep: 0,\n      email: '',\n      pass: '',\n      moveScreen: false\n    };\n    return _this;\n  }\n\n  _createClass(UserAuth, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, \"Please login to post the comment\"), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, this.props.message), this.state.authStep == 0 ? React.createElement(View, {\n        style: {\n          marginVertical: 20,\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.showLogin();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold',\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }, \"Login\")), React.createElement(Text, {\n        style: {\n          marginHorizontal: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, \"or\"), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.showSignup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold',\n          color: 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }\n      }, \"Sign up\"))) : React.createElement(View, {\n        style: {\n          marginVertical: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }, this.state.authStep == 1 ? React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 29\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.setState({\n            authStep: 0\n          });\n        },\n        style: {\n          borderBottomWidth: 1,\n          paddingVertical: 5,\n          marginBottom: 10,\n          borderBottomColor: 'black'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 37\n        }\n      }, \"Cancel\")), React.createElement(Text, {\n        style: {\n          fontWeight: 'bold',\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }\n      }, \"Login\"), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }\n      }, \"Email Address\"), React.createElement(TextInput, {\n        editable: true,\n        KeyboardType: 'email-address',\n        placeholder: 'enter your email address..',\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            email: text\n          });\n        },\n        value: this.state.email,\n        style: {\n          width: 250,\n          marginVertical: 10,\n          padding: 5,\n          borderWidth: 1,\n          borderColor: 'grey',\n          borderRadius: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 37\n        }\n      }, \"Password\"), React.createElement(TextInput, {\n        editable: true,\n        secureTextEntry: true,\n        placeholder: 'enter your Password',\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            pass: text\n          });\n        },\n        value: this.state.pass,\n        style: {\n          width: 250,\n          marginVertical: 10,\n          padding: 5,\n          borderWidth: 1,\n          borderColor: 'grey',\n          borderRadius: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: 'green',\n          paddingVertical: 10,\n          paddingHorizontal: 20,\n          borderRadius: 5\n        },\n        onPress: function onPress() {\n          return _this2.login();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      }, \"Login\"))) : React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 29\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.setState({\n            authStep: 0\n          });\n        },\n        style: {\n          borderBottomWidth: 1,\n          paddingVertical: 5,\n          marginBottom: 10,\n          borderBottomColor: 'black'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 37\n        }\n      }, \"Cancel\")), React.createElement(Text, {\n        style: {\n          fontWeight: 'bold',\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 33\n        }\n      }, \"Sign Up\"), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 33\n        }\n      }, \"Email Address\"), React.createElement(TextInput, {\n        editable: true,\n        KeyboardType: 'email-address',\n        placeholder: 'enter your email address..',\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            email: text\n          });\n        },\n        value: this.state.email,\n        style: {\n          width: 250,\n          marginVertical: 10,\n          padding: 5,\n          borderWidth: 1,\n          borderColor: 'grey',\n          borderRadius: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 33\n        }\n      }), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 37\n        }\n      }, \"Password\"), React.createElement(TextInput, {\n        editable: true,\n        secureTextEntry: true,\n        placeholder: 'enter your Password',\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            pass: text\n          });\n        },\n        value: this.state.pass,\n        style: {\n          width: 250,\n          marginVertical: 10,\n          padding: 5,\n          borderWidth: 1,\n          borderColor: 'grey',\n          borderRadius: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 33\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: 'green',\n          paddingVertical: 10,\n          paddingHorizontal: 20,\n          borderRadius: 5\n        },\n        onPress: function onPress() {\n          return _this2.signup();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 37\n        }\n      }, \"Sign Up\")))));\n    }\n  }]);\n\n  return UserAuth;\n}(React.Component);\n\nexport default UserAuth;","map":{"version":3,"sources":["D:/Native project/photofeed complete/app/components/auth.js"],"names":["React","f","auth","database","storage","UserAuth","props","login","email","state","pass","signInWithEmailAndPassword","user","console","log","alert","createUserObj","userObj","uid","uObj","name","username","avatar","ref","child","set","signup","createUserWithEmailAndPassword","then","catch","error","componentDidMount","moveScreen","setState","showLogin","navigation","navigate","authStep","showSignup","flex","alignItems","justifyContent","message","marginVertical","flexDirection","fontWeight","color","marginHorizontal","borderBottomWidth","paddingVertical","marginBottom","borderBottomColor","text","width","padding","borderWidth","borderColor","borderRadius","backgroundColor","paddingHorizontal","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {TouchableOpacity,TextInput,KeyboardAvoidingView,StyleSheet,Text,View} from 'react-native';\r\nimport {f,auth,database,storage} from '../../config/config';\r\n\r\n\r\n\r\nclass UserAuth extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            authStep:0,\r\n            email:'',\r\n            pass:'',\r\n            moveScreen:false\r\n        }\r\n    }\r\n    login = async() => {\r\n        //Force user to login\r\n\r\n        var email = this.state.email;\r\n        var pass =this.state.pass;\r\n        if(email !=''&& pass!=''){\r\n            try{\r\n                let user = await auth.signInWithEmailAndPassword(email,pass);\r\n            }catch(error){\r\n                console.log(error);\r\n                alert(error);\r\n            }\r\n            \r\n        }else{\r\n            alert('email or password is empty..');\r\n        }\r\n    }    \r\n\r\n    createUserObj = (userObj,email)=>{\r\n        //\r\n\r\n        console.log(userObj,email,userObj.uid);\r\n        var uObj = {\r\n            name:'Enter name',\r\n            username:'@name',\r\n            avatar:'http://www.gravatar.com/avatar',\r\n            email: email\r\n        };\r\n        database.ref('users').child(userObj.uid).set(uObj);\r\n    }\r\n    signup = async() => {\r\n        //Force user to login\r\n\r\n        var email = this.state.email;\r\n        var pass =this.state.pass;\r\n        if(email !=''&& pass!=''){\r\n            try{\r\n                let user = await auth.createUserWithEmailAndPassword(email,pass)\r\n                .then((userObj) => this.createUserObj(userObj.user,email))\r\n                .catch((error) => alert(error));\r\n            }catch(error){\r\n                console.log(error);\r\n                alert(error);\r\n            }\r\n            \r\n        }else{\r\n            alert('email or password is empty..');\r\n        }\r\n    }    \r\n        \r\n        \r\n\r\n    componentDidMount = () => {\r\n        if(this.props.moveScreen == true){\r\n            this.setState({moveScreen: true});\r\n        }\r\n    }\r\n\r\n    showLogin = () => {\r\n        if(this.state.moveScreen == true){\r\n            this.props.navigation.navigate('Upload');\r\n                return false;\r\n            }\r\n        this.setState({authStep:1});\r\n    }\r\n\r\n    showSignup = () => {\r\n        if(this.state.moveScreen == true){\r\n        this.props.navigation.navigate('Upload');\r\n            return false;\r\n        }\r\n        this.setState({authStep:2});\r\n    }\r\n   \r\n    render(){\r\n        return(\r\n            <View style={{flex:1,alignItems:'center',justifyContent:'center'}}>    \r\n                <Text>Please login to post the comment</Text>\r\n                <Text>{this.props.message}</Text>\r\n                { this.state.authStep == 0 ? (\r\n                    <View style={{marginVertical:20,flexDirection:'row'}}>\r\n                       \r\n                        <TouchableOpacity onPress={ () => this.showLogin() }>       \r\n                        <Text style={{fontWeight:'bold',color:'green'}}>Login</Text>\r\n                        </TouchableOpacity>\r\n\r\n                        <Text style={{marginHorizontal:10}}>or</Text>\r\n\r\n                        <TouchableOpacity   onPress={ () => this.showSignup() }>\r\n                            <Text style={{fontWeight:'bold',color:'green'}}>Sign up</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                ):(\r\n                    <View style={{marginVertical:20}}>\r\n                        {this.state.authStep == 1 ?(\r\n                            //log in\r\n                            <View>\r\n                                <TouchableOpacity \r\n                                onPress={()=> this.setState({authStep:0})}\r\n                                style={{borderBottomWidth:1,paddingVertical:5,marginBottom:10,borderBottomColor:'black'}} >\r\n                                    <Text style={{fontWeight:'bold'}}>Cancel</Text>\r\n                                </TouchableOpacity>\r\n                                <Text style={{fontWeight:'bold',marginBottom:20}}>Login</Text>\r\n                                <Text>Email Address</Text>\r\n                                <TextInput\r\n                                    editable={true}\r\n                                    KeyboardType={'email-address'}\r\n                                    placeholder={'enter your email address..'}\r\n                                    onChangeText={(text)=> this.setState({email:text})}\r\n                                    value={this.state.email}\r\n                                    style={{width:250,marginVertical:10,padding:5,borderWidth:1,borderColor:'grey',borderRadius:3}}\r\n                                    />\r\n                                    <Text>Password</Text>\r\n                                <TextInput\r\n                                    editable={true}\r\n                                    secureTextEntry={true}\r\n                                    placeholder={'enter your Password'}\r\n                                    onChangeText={(text)=> this.setState({pass:text})}\r\n                                    value={this.state.pass}\r\n                                    style={{width:250,marginVertical:10,padding:5,borderWidth:1,borderColor:'grey',borderRadius:3}}\r\n                                    />\r\n                                <TouchableOpacity\r\n                                style={{backgroundColor:'green',paddingVertical:10,paddingHorizontal:20,borderRadius:5,}}\r\n                                onPress={()=> this.login()}>\r\n                                    <Text style={{color:'white'}}>Login</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        ) : (\r\n                            //signup\r\n                            <View>\r\n                                <TouchableOpacity \r\n                                onPress={()=> this.setState({authStep:0})}\r\n                                style={{borderBottomWidth:1,paddingVertical:5,marginBottom:10,borderBottomColor:'black'}} >\r\n                                    <Text style={{fontWeight:'bold'}}>Cancel</Text>\r\n                                </TouchableOpacity>\r\n                                <Text style={{fontWeight:'bold',marginBottom:20}}>Sign Up</Text>\r\n                                <Text>Email Address</Text>\r\n                                <TextInput\r\n                                    editable={true}\r\n                                    KeyboardType={'email-address'}\r\n                                    placeholder={'enter your email address..'}\r\n                                    onChangeText={(text)=> this.setState({email:text})}\r\n                                    value={this.state.email}\r\n                                    style={{width:250,marginVertical:10,padding:5,borderWidth:1,borderColor:'grey',borderRadius:3}}\r\n                                    />\r\n                                    <Text>Password</Text>\r\n                                <TextInput\r\n                                    editable={true}\r\n                                    secureTextEntry={true}\r\n                                    placeholder={'enter your Password'}\r\n                                    onChangeText={(text)=> this.setState({pass:text})}\r\n                                    value={this.state.pass}\r\n                                    style={{width:250,marginVertical:10,padding:5,borderWidth:1,borderColor:'grey',borderRadius:3}}\r\n                                    />\r\n                                <TouchableOpacity\r\n                                style={{backgroundColor:'green',paddingVertical:10,paddingHorizontal:20,borderRadius:5,}}\r\n                                onPress={() => this.signup()}\r\n                                >\r\n                                    <Text style={{color:'white'}}>Sign Up</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        )}\r\n                    </View>\r\n                )}\r\n            </View>    \r\n                )\r\n            }  \r\n}\r\n\r\nexport default UserAuth;\r\n"]},"metadata":{},"sourceType":"module"}