{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Image from\"react-native-web/dist/exports/Image\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableItem from\"../TouchableItem\";import defaultBackImage from\"../assets/back-icon.png\";var ModularHeaderBackButton=function(_React$PureComponent){_inherits(ModularHeaderBackButton,_React$PureComponent);var _super=_createSuper(ModularHeaderBackButton);function ModularHeaderBackButton(){var _this;_classCallCheck(this,ModularHeaderBackButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this._onTextLayout=function(e){if(_this.state.initialTextWidth){return;}_this.setState({initialTextWidth:e.nativeEvent.layout.x+e.nativeEvent.layout.width});};return _this;}_createClass(ModularHeaderBackButton,[{key:\"_renderBackImage\",value:function _renderBackImage(){var _this$props=this.props,backImage=_this$props.backImage,title=_this$props.title,tintColor=_this$props.tintColor;var BackImage;var props;if(React.isValidElement(backImage)){return backImage;}else if(backImage){BackImage=backImage;props={tintColor:tintColor,title:title};}else{BackImage=Image;props={style:[styles.icon,!!title&&styles.iconWithTitle,!!tintColor&&{tintColor:tintColor}],source:defaultBackImage};}return React.createElement(BackImage,props);}},{key:\"render\",value:function render(){var _this$props2=this.props,onPress=_this$props2.onPress,width=_this$props2.width,title=_this$props2.title,titleStyle=_this$props2.titleStyle,tintColor=_this$props2.tintColor,truncatedTitle=_this$props2.truncatedTitle;var renderTruncated=this.state.initialTextWidth&&width?this.state.initialTextWidth>width:false;var backButtonTitle=renderTruncated?truncatedTitle:title;if(backButtonTitle&&backButtonTitle.length>8){backButtonTitle=truncatedTitle;}var _this$props3=this.props,ButtonContainerComponent=_this$props3.ButtonContainerComponent,LabelContainerComponent=_this$props3.LabelContainerComponent;return React.createElement(TouchableItem,{accessibilityComponentType:\"button\",accessibilityLabel:backButtonTitle,accessibilityTraits:\"button\",testID:\"header-back\",delayPressIn:0,onPress:onPress,style:styles.container,borderless:true},React.createElement(View,{style:styles.container},React.createElement(ButtonContainerComponent,null,this._renderBackImage()),typeof backButtonTitle==='string'&&React.createElement(LabelContainerComponent,null,React.createElement(Text,{onLayout:this._onTextLayout,style:[styles.title,!!tintColor&&{color:tintColor},titleStyle],numberOfLines:1},backButtonTitle))));}}]);return ModularHeaderBackButton;}(React.PureComponent);ModularHeaderBackButton.defaultProps={tintColor:'#037aff',truncatedTitle:'Back'};var styles=StyleSheet.create({container:{alignItems:'center',flexDirection:'row',backgroundColor:'transparent'},title:{fontSize:17,paddingRight:10},icon:{height:21,width:12,marginLeft:9,marginRight:22,marginVertical:12,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]},iconWithTitle:{marginRight:3}});export default ModularHeaderBackButton;","map":{"version":3,"sources":["E:/photofeed/node_modules/react-navigation-stack/dist/views/Header/ModularHeaderBackButton.js"],"names":["React","TouchableItem","defaultBackImage","ModularHeaderBackButton","state","_onTextLayout","e","initialTextWidth","setState","nativeEvent","layout","x","width","props","backImage","title","tintColor","BackImage","isValidElement","Image","style","styles","icon","iconWithTitle","source","onPress","titleStyle","truncatedTitle","renderTruncated","backButtonTitle","length","ButtonContainerComponent","LabelContainerComponent","container","_renderBackImage","color","PureComponent","defaultProps","StyleSheet","create","alignItems","flexDirection","backgroundColor","fontSize","paddingRight","height","marginLeft","marginRight","marginVertical","resizeMode","transform","scaleX","I18nManager","isRTL"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { I18nManager, Image, Text, View, StyleSheet } from 'react-native';\n\nimport TouchableItem from '../TouchableItem';\n\nimport defaultBackImage from '../assets/back-icon.png';\n\nclass ModularHeaderBackButton extends React.PureComponent {\n  static defaultProps = {\n    tintColor: '#037aff',\n    truncatedTitle: 'Back'\n  };\n\n  state = {};\n\n  _onTextLayout = e => {\n    if (this.state.initialTextWidth) {\n      return;\n    }\n    this.setState({\n      initialTextWidth: e.nativeEvent.layout.x + e.nativeEvent.layout.width\n    });\n  };\n\n  _renderBackImage() {\n    const { backImage, title, tintColor } = this.props;\n\n    let BackImage;\n    let props;\n\n    if (React.isValidElement(backImage)) {\n      return backImage;\n    } else if (backImage) {\n      BackImage = backImage;\n      props = {\n        tintColor,\n        title\n      };\n    } else {\n      BackImage = Image;\n      props = {\n        style: [styles.icon, !!title && styles.iconWithTitle, !!tintColor && { tintColor }],\n        source: defaultBackImage\n      };\n    }\n\n    return <BackImage {...props} />;\n  }\n\n  render() {\n    const {\n      onPress,\n      width,\n      title,\n      titleStyle,\n      tintColor,\n      truncatedTitle\n    } = this.props;\n\n    const renderTruncated = this.state.initialTextWidth && width ? this.state.initialTextWidth > width : false;\n\n    let backButtonTitle = renderTruncated ? truncatedTitle : title;\n\n    // TODO: When we've sorted out measuring in the header, let's revisit this.\n    // This is clearly a bad workaround.\n    if (backButtonTitle && backButtonTitle.length > 8) {\n      backButtonTitle = truncatedTitle;\n    }\n\n    const { ButtonContainerComponent, LabelContainerComponent } = this.props;\n\n    return <TouchableItem accessibilityComponentType=\"button\" accessibilityLabel={backButtonTitle} accessibilityTraits=\"button\" testID=\"header-back\" delayPressIn={0} onPress={onPress} style={styles.container} borderless>\n        <View style={styles.container}>\n          <ButtonContainerComponent>\n            {this._renderBackImage()}\n          </ButtonContainerComponent>\n          {typeof backButtonTitle === 'string' && <LabelContainerComponent>\n              <Text onLayout={this._onTextLayout} style={[styles.title, !!tintColor && { color: tintColor }, titleStyle]} numberOfLines={1}>\n                {backButtonTitle}\n              </Text>\n            </LabelContainerComponent>}\n        </View>\n      </TouchableItem>;\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    backgroundColor: 'transparent'\n  },\n  title: {\n    fontSize: 17,\n    paddingRight: 10\n  },\n  icon: {\n    height: 21,\n    width: 12,\n    marginLeft: 9,\n    marginRight: 22,\n    marginVertical: 12,\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }]\n  },\n  iconWithTitle: {\n    marginRight: 3\n  }\n});\n\nexport default ModularHeaderBackButton;"]},"metadata":{},"sourceType":"module"}