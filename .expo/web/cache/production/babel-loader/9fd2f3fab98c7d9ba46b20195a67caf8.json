{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import FlatList from\"react-native-web/dist/exports/FlatList\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import{f,auth,database,storage}from\"../../config/config\";import PhotoList from\"../components/photoList\";var profile=function(_React$Component){_inherits(profile,_React$Component);var _super=_createSuper(profile);function profile(props){var _this;_classCallCheck(this,profile);_this=_super.call(this,props);_this.checkParams=function(){var params=_this.props.navigation.state.params;if(params){if(params.userId){_this.setState({userId:params.userId});_this.fetchUserInfo(params.userId);}}};_this.fetchUserInfo=function(userId){var that=_assertThisInitialized(_this);database.ref('users').child(userId).child('username').once('value').then(function(snapshot){var exists=snapshot.val()!==null;if(exists)data=snapshot.val();that.setState({username:data});}).catch(function(error){return console.log(error);});database.ref('users').child(userId).child('name').once('value').then(function(snapshot){var exists=snapshot.val()!==null;if(exists)data=snapshot.val();that.setState({username:data});}).catch(function(error){return console.log(error);});database.ref('users').child(userId).child('avatar').once('value').then(function(snapshot){var exists=snapshot.val()!==null;if(exists)data=snapshot.val();that.setState({username:data});}).catch(function(error){return console.log(error);});};_this.componentDidMount=function(){_this.checkParams();};_this.state={loaded:false};return _this;}_createClass(profile,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(View,{style:{flex:1}},this.state.loaded==false?React.createElement(View,null,React.createElement(Text,null,\"Loading...\")):React.createElement(View,{style:{flex:1}},React.createElement(View,{style:{flexDiection:'row',height:70,paddingTop:30,backgroundColor:'white',borderColor:0.5,justifyContent:'center',justifyContent:'space-between',alignItems:'center'}},React.createElement(TouchableOpacity,{style:{width:100},onPress:function onPress(){return _this2.props.navigation.goBack();}},React.createElement(Text,{style:{fontSize:12,fontWeight:'bold',paddingLeft:10}},\"Go Back\")),React.createElement(Text,null,\"profile\"),React.createElement(Text,{style:{width:100}},\"?\")),React.createElement(View,{style:{justifyContent:'space-between',alignItems:'center',flexDirection:'row',paddingVertical:10}},React.createElement(Image,{source:{url:this.state.avatar},style:{marginLeft:10,width:100,height:100,borderRadius:50}}),React.createElement(View,{style:{marginRight:10}},React.createElement(Text,null,this.state.name),React.createElement(Text,null,this.state.username))),React.createElement(PhotoList,{isuser:true,userId:this.state.userId,navigation:this.props.navigation})));}}]);return profile;}(React.Component);export default profile;","map":{"version":3,"sources":["E:/photofeed/app/screens/userProfile.js"],"names":["React","f","auth","database","storage","PhotoList","profile","props","checkParams","params","navigation","state","userId","setState","fetchUserInfo","that","ref","child","once","then","snapshot","exists","val","data","username","catch","error","console","log","componentDidMount","loaded","flex","flexDiection","height","paddingTop","backgroundColor","borderColor","justifyContent","alignItems","width","goBack","fontSize","fontWeight","paddingLeft","flexDirection","paddingVertical","url","avatar","marginLeft","borderRadius","marginRight","name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {TouchableOpacity,FlatList,StyleSheet,Text,View,Image} from 'react-native';\r\nimport {f,auth,database,storage} from '../../config/config';\r\nimport PhotoList from '../components/photoList';\r\n\r\n\r\nclass profile extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            loaded : false\r\n        }\r\n    }\r\n\r\n\r\n    checkParams = () => {\r\n        //\r\n        var params = this.props.navigation.state.params;\r\n        if(params){\r\n            if(params.userId){\r\n                this.setState({\r\n                    userId:params.userId\r\n                });\r\n                this.fetchUserInfo(params.userId);\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchUserInfo = (userId) =>{\r\n        //\r\n        var that = this;\r\n        database.ref('users').child(userId).child('username').once('value').then(function(snapshot){\r\n            const exists = (snapshot.val() !== null);\r\n            if(exists) data = snapshot.val();\r\n                that.setState({username:data});\r\n        }).catch(error => console.log(error));\r\n        \r\n        database.ref('users').child(userId).child('name').once('value').then(function(snapshot){\r\n            const exists = (snapshot.val() !== null);\r\n            if(exists) data = snapshot.val();\r\n                that.setState({username:data});\r\n        }).catch(error => console.log(error));\r\n        \r\n        database.ref('users').child(userId).child('avatar').once('value').then(function(snapshot){\r\n            const exists = (snapshot.val() !== null);\r\n            if(exists) data = snapshot.val();\r\n                that.setState({username:data});\r\n        }).catch(error => console.log(error));\r\n        \r\n    }\r\n\r\n\r\n    componentDidMount = () => {\r\n       this.checkParams();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <View style={{flex:1}}>\r\n                { this.state.loaded == false ? (\r\n                    <View>\r\n                        <Text>Loading...</Text>\r\n                    </View>\r\n                ): (\r\n\r\n                \r\n                    <View style={{flex:1}}>\r\n                         <View style={{flexDiection:'row',height:70,paddingTop:30,backgroundColor:'white',borderColor:0.5,justifyContent:'center',justifyContent:'space-between',alignItems:'center'}}>\r\n                            <TouchableOpacity \r\n                            style ={{width:100}}\r\n                            onPress={()=> this.props.navigation.goBack()} >\r\n                                <Text style ={{fontSize:12,fontWeight:'bold',paddingLeft:10}} >Go Back</Text>\r\n                            </TouchableOpacity>\r\n                            <Text>profile</Text>\r\n                            <Text style ={{width:100}}>?</Text>\r\n\r\n                        </View>\r\n                        <View style={{justifyContent:'space-between',alignItems:'center',flexDirection:'row',paddingVertical:10}}>\r\n                            <Image source={{url: this.state.avatar}} style={{marginLeft:10,width:100,height:100,borderRadius:50}}/>\r\n                            <View style={{marginRight:10}}>\r\n                                <Text>{this.state.name}</Text>\r\n                                <Text>{this.state.username}</Text>\r\n                            </View>     \r\n                        </View> \r\n                        <PhotoList isuser = {true} userId={this.state.userId} navigation={this.props.navigation}/>   \r\n                    </View> \r\n                    )}\r\n            </View>\r\n\r\n        )\r\n        \r\n    }\r\n    }\r\n\r\n\r\nexport default profile;"]},"metadata":{},"sourceType":"module"}