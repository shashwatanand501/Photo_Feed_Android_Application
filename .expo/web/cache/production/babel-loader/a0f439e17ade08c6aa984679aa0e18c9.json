{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import{polyfill}from'react-lifecycles-compat';import getChildEventSubscriber from\"../getChildEventSubscriber\";function createNavigator(NavigatorView,router,navigationConfig){var Navigator=function(_React$Component){_inherits(Navigator,_React$Component);var _super=_createSuper(Navigator);function Navigator(){var _this;_classCallCheck(this,Navigator);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={descriptors:{},screenProps:_this.props.screenProps};return _this;}_createClass(Navigator,[{key:\"render\",value:function render(){return React.createElement(NavigatorView,_extends({},this.props,{screenProps:this.state.screenProps,navigation:this.props.navigation,navigationConfig:navigationConfig,descriptors:this.state.descriptors}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){var prevDescriptors=prevState.descriptors;var navigation=nextProps.navigation,screenProps=nextProps.screenProps;var dispatch=navigation.dispatch,state=navigation.state,addListener=navigation.addListener;var routes=state.routes;if(typeof routes==='undefined'){throw new TypeError('No \"routes\" found in navigation state. Did you try to pass the navigation prop of a React component to a Navigator child? See https://reactnavigation.org/docs/en/custom-navigators.html#navigator-navigation-prop');}var descriptors={};routes.forEach(function(route){if(prevDescriptors&&prevDescriptors[route.key]&&route===prevDescriptors[route.key].state&&screenProps===prevState.screenProps){descriptors[route.key]=prevDescriptors[route.key];return;}var getComponent=router.getComponentForRouteName.bind(null,route.routeName);var childNavigation=navigation.getChildNavigation(route.key);var options=router.getScreenOptions(childNavigation,screenProps);descriptors[route.key]={key:route.key,getComponent:getComponent,options:options,state:route,navigation:childNavigation};});return{descriptors:descriptors,screenProps:screenProps};}}]);return Navigator;}(React.Component);Navigator.router=router;Navigator.navigationOptions=null;return polyfill(Navigator);}export default createNavigator;","map":{"version":3,"sources":["E:/photofeed/node_modules/react-navigation/src/navigators/createNavigator.js"],"names":["React","polyfill","getChildEventSubscriber","createNavigator","NavigatorView","router","navigationConfig","Navigator","state","descriptors","screenProps","props","navigation","nextProps","prevState","prevDescriptors","dispatch","addListener","routes","TypeError","forEach","route","key","getComponent","getComponentForRouteName","bind","routeName","childNavigation","getChildNavigation","options","getScreenOptions","Component","navigationOptions"],"mappings":"qjCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,yBAAzB,CAEA,MAAOC,CAAAA,uBAAP,kCAEA,QAASC,CAAAA,eAAT,CAAyBC,aAAzB,CAAwCC,MAAxC,CAAgDC,gBAAhD,CAAkE,IAC1DC,CAAAA,SAD0D,sUAK9DC,KAL8D,CAKtD,CACNC,WAAW,CAAE,EADP,CAENC,WAAW,CAAE,MAAKC,KAAL,CAAWD,WAFlB,CALsD,4EAmDrD,CACP,MACE,qBAAC,aAAD,aACM,KAAKC,KADX,EAEE,WAAW,CAAE,KAAKH,KAAL,CAAWE,WAF1B,CAGE,UAAU,CAAE,KAAKC,KAAL,CAAWC,UAHzB,CAIE,gBAAgB,CAAEN,gBAJpB,CAKE,WAAW,CAAE,KAAKE,KAAL,CAAWC,WAL1B,GADF,CASD,CA7D6D,4EAU9BI,SAV8B,CAUnBC,SAVmB,CAUR,CACpD,GAAMC,CAAAA,eAAe,CAAGD,SAAS,CAACL,WAAlC,CADoD,GAE5CG,CAAAA,UAF4C,CAEhBC,SAFgB,CAE5CD,UAF4C,CAEhCF,WAFgC,CAEhBG,SAFgB,CAEhCH,WAFgC,IAG5CM,CAAAA,QAH4C,CAGXJ,UAHW,CAG5CI,QAH4C,CAGlCR,KAHkC,CAGXI,UAHW,CAGlCJ,KAHkC,CAG3BS,WAH2B,CAGXL,UAHW,CAG3BK,WAH2B,IAI5CC,CAAAA,MAJ4C,CAIjCV,KAJiC,CAI5CU,MAJ4C,CAKpD,GAAI,MAAOA,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjC,KAAM,IAAIC,CAAAA,SAAJ,CACJ,oNADI,CAAN,CAGD,CAED,GAAMV,CAAAA,WAAW,CAAG,EAApB,CAEAS,MAAM,CAACE,OAAP,CAAe,SAAAC,KAAK,CAAI,CACtB,GACEN,eAAe,EACfA,eAAe,CAACM,KAAK,CAACC,GAAP,CADf,EAEAD,KAAK,GAAKN,eAAe,CAACM,KAAK,CAACC,GAAP,CAAf,CAA2Bd,KAFrC,EAGAE,WAAW,GAAKI,SAAS,CAACJ,WAJ5B,CAKE,CACAD,WAAW,CAACY,KAAK,CAACC,GAAP,CAAX,CAAyBP,eAAe,CAACM,KAAK,CAACC,GAAP,CAAxC,CACA,OACD,CACD,GAAMC,CAAAA,YAAY,CAAGlB,MAAM,CAACmB,wBAAP,CAAgCC,IAAhC,CACnB,IADmB,CAEnBJ,KAAK,CAACK,SAFa,CAArB,CAIA,GAAMC,CAAAA,eAAe,CAAGf,UAAU,CAACgB,kBAAX,CAA8BP,KAAK,CAACC,GAApC,CAAxB,CACA,GAAMO,CAAAA,OAAO,CAAGxB,MAAM,CAACyB,gBAAP,CAAwBH,eAAxB,CAAyCjB,WAAzC,CAAhB,CACAD,WAAW,CAACY,KAAK,CAACC,GAAP,CAAX,CAAyB,CACvBA,GAAG,CAAED,KAAK,CAACC,GADY,CAEvBC,YAAY,CAAZA,YAFuB,CAGvBM,OAAO,CAAPA,OAHuB,CAIvBrB,KAAK,CAAEa,KAJgB,CAKvBT,UAAU,CAAEe,eALW,CAAzB,CAOD,CAvBD,EAyBA,MAAO,CAAElB,WAAW,CAAXA,WAAF,CAAeC,WAAW,CAAXA,WAAf,CAAP,CACD,CAjD6D,uBACxCV,KAAK,CAAC+B,SADkC,EAC1DxB,SAD0D,CAEvDF,MAFuD,CAE9CA,MAF8C,CAC1DE,SAD0D,CAGvDyB,iBAHuD,CAGnC,IAHmC,CAgEhE,MAAO/B,CAAAA,QAAQ,CAACM,SAAD,CAAf,CACD,CAED,cAAeJ,CAAAA,eAAf","sourcesContent":["import React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport getChildEventSubscriber from '../getChildEventSubscriber';\n\nfunction createNavigator(NavigatorView, router, navigationConfig) {\n  class Navigator extends React.Component {\n    static router = router;\n    static navigationOptions = null;\n\n    state = {\n      descriptors: {},\n      screenProps: this.props.screenProps,\n    };\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n      const prevDescriptors = prevState.descriptors;\n      const { navigation, screenProps } = nextProps;\n      const { dispatch, state, addListener } = navigation;\n      const { routes } = state;\n      if (typeof routes === 'undefined') {\n        throw new TypeError(\n          'No \"routes\" found in navigation state. Did you try to pass the navigation prop of a React component to a Navigator child? See https://reactnavigation.org/docs/en/custom-navigators.html#navigator-navigation-prop'\n        );\n      }\n\n      const descriptors = {};\n\n      routes.forEach(route => {\n        if (\n          prevDescriptors &&\n          prevDescriptors[route.key] &&\n          route === prevDescriptors[route.key].state &&\n          screenProps === prevState.screenProps\n        ) {\n          descriptors[route.key] = prevDescriptors[route.key];\n          return;\n        }\n        const getComponent = router.getComponentForRouteName.bind(\n          null,\n          route.routeName\n        );\n        const childNavigation = navigation.getChildNavigation(route.key);\n        const options = router.getScreenOptions(childNavigation, screenProps);\n        descriptors[route.key] = {\n          key: route.key,\n          getComponent,\n          options,\n          state: route,\n          navigation: childNavigation,\n        };\n      });\n\n      return { descriptors, screenProps };\n    }\n\n    render() {\n      return (\n        <NavigatorView\n          {...this.props}\n          screenProps={this.state.screenProps}\n          navigation={this.props.navigation}\n          navigationConfig={navigationConfig}\n          descriptors={this.state.descriptors}\n        />\n      );\n    }\n  }\n\n  return polyfill(Navigator);\n}\n\nexport default createNavigator;\n"]},"metadata":{},"sourceType":"module"}