{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';import{TabRouter,StackActions,SceneView,createNavigator,createNavigationContainer,NavigationActions}from'react-navigation';export default function createTabNavigator(TabView){var NavigationView=function(_React$Component){_inherits(NavigationView,_React$Component);var _super=_createSuper(NavigationView);function NavigationView(){var _this;_classCallCheck(this,NavigationView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this._renderScene=function(_ref){var route=_ref.route;var _this$props=_this.props,screenProps=_this$props.screenProps,descriptors=_this$props.descriptors;var descriptor=descriptors[route.key];var TabComponent=descriptor.getComponent();return React.createElement(SceneView,{screenProps:screenProps,navigation:descriptor.navigation,component:TabComponent});};_this._renderIcon=function(_ref2){var route=_ref2.route,_ref2$focused=_ref2.focused,focused=_ref2$focused===void 0?true:_ref2$focused,tintColor=_ref2.tintColor,_ref2$horizontal=_ref2.horizontal,horizontal=_ref2$horizontal===void 0?false:_ref2$horizontal;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarIcon){return typeof options.tabBarIcon==='function'?options.tabBarIcon({focused:focused,tintColor:tintColor,horizontal:horizontal}):options.tabBarIcon;}return null;};_this._getButtonComponent=function(_ref3){var route=_ref3.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarButtonComponent){return options.tabBarButtonComponent;}return null;};_this._getLabelText=function(_ref4){var route=_ref4.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarLabel){return options.tabBarLabel;}if(typeof options.title==='string'){return options.title;}return route.routeName;};_this._getAccessibilityLabel=function(_ref5){var route=_ref5.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;if(typeof options.tabBarAccessibilityLabel!=='undefined'){return options.tabBarAccessibilityLabel;}var label=_this._getLabelText({route:route});if(typeof label==='string'){return label;}};_this._getTestID=function(_ref6){var route=_ref6.route;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;return options.tabBarTestID;};_this._handleTabPress=function(_ref7){var route=_ref7.route;_this._isTabPress=true;var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var navigation=descriptor.navigation,options=descriptor.options;var defaultHandler=function defaultHandler(){if(navigation.isFocused()){if(route.hasOwnProperty('index')&&route.index>0){navigation.dispatch(StackActions.popToTop({key:route.key}));}else{}}else{_this._jumpTo(route.routeName);}};if(options.tabBarOnPress){options.tabBarOnPress({navigation:navigation,defaultHandler:defaultHandler});}else{defaultHandler();}};_this._handleIndexChange=function(index){if(_this._isTabPress){_this._isTabPress=false;return;}_this._jumpTo(_this.props.navigation.state.routes[index].routeName);};_this._handleSwipeStart=function(){_this.setState({isSwiping:true});};_this._handleSwipeEnd=function(){_this.setState({isSwiping:false});};_this._jumpTo=function(routeName){return _this.props.navigation.dispatch(NavigationActions.navigate({routeName:routeName}));};_this._isTabPress=false;return _this;}_createClass(NavigationView,[{key:\"render\",value:function render(){var _this$props2=this.props,descriptors=_this$props2.descriptors,navigation=_this$props2.navigation,screenProps=_this$props2.screenProps;var state=navigation.state;var route=state.routes[state.index];var descriptor=descriptors[route.key];var options=_objectSpread(_objectSpread({},this.props.navigationConfig),descriptor.options);return React.createElement(TabView,_extends({},options,{getLabelText:this._getLabelText,getButtonComponent:this._getButtonComponent,getAccessibilityLabel:this._getAccessibilityLabel,getTestID:this._getTestID,renderIcon:this._renderIcon,renderScene:this._renderScene,onIndexChange:this._handleIndexChange,onTabPress:this._handleTabPress,navigation:navigation,descriptors:descriptors,screenProps:screenProps}));}}]);return NavigationView;}(React.Component);return function(routes){var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var router=TabRouter(routes,config);var navigator=createNavigator(NavigationView,router,config);return createNavigationContainer(navigator);};}","map":{"version":3,"sources":["E:/photofeed/node_modules/react-navigation-tabs/dist/utils/createTabNavigator.js"],"names":["React","TabRouter","StackActions","SceneView","createNavigator","createNavigationContainer","NavigationActions","createTabNavigator","TabView","NavigationView","_renderScene","route","props","screenProps","descriptors","descriptor","key","TabComponent","getComponent","navigation","_renderIcon","focused","tintColor","horizontal","options","tabBarIcon","_getButtonComponent","tabBarButtonComponent","_getLabelText","tabBarLabel","title","routeName","_getAccessibilityLabel","tabBarAccessibilityLabel","label","_getTestID","tabBarTestID","_handleTabPress","_isTabPress","defaultHandler","isFocused","hasOwnProperty","index","dispatch","popToTop","_jumpTo","tabBarOnPress","_handleIndexChange","state","routes","_handleSwipeStart","setState","isSwiping","_handleSwipeEnd","navigate","navigationConfig","Component","config","router","navigator"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { TabRouter, StackActions, SceneView, createNavigator, createNavigationContainer, NavigationActions } from 'react-navigation';\n\nexport default function createTabNavigator(TabView) {\n  class NavigationView extends React.Component {\n    _renderScene = ({ route }) => {\n      const { screenProps, descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const TabComponent = descriptor.getComponent();\n      return <SceneView screenProps={screenProps} navigation={descriptor.navigation} component={TabComponent} />;\n    };\n\n    _renderIcon = ({\n      route,\n      focused = true,\n      tintColor,\n      horizontal = false\n    }) => {\n      const { descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const options = descriptor.options;\n\n      if (options.tabBarIcon) {\n        return typeof options.tabBarIcon === 'function' ? options.tabBarIcon({ focused, tintColor, horizontal }) : options.tabBarIcon;\n      }\n\n      return null;\n    };\n\n    _getButtonComponent = ({ route }) => {\n      const { descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const options = descriptor.options;\n\n      if (options.tabBarButtonComponent) {\n        return options.tabBarButtonComponent;\n      }\n\n      return null;\n    };\n\n    _getLabelText = ({ route }) => {\n      const { descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const options = descriptor.options;\n\n      if (options.tabBarLabel) {\n        return options.tabBarLabel;\n      }\n\n      if (typeof options.title === 'string') {\n        return options.title;\n      }\n\n      return route.routeName;\n    };\n\n    _getAccessibilityLabel = ({ route }) => {\n      const { descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const options = descriptor.options;\n\n      if (typeof options.tabBarAccessibilityLabel !== 'undefined') {\n        return options.tabBarAccessibilityLabel;\n      }\n\n      const label = this._getLabelText({ route });\n\n      if (typeof label === 'string') {\n        return label;\n      }\n    };\n\n    _getTestID = ({ route }) => {\n      const { descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const options = descriptor.options;\n\n      return options.tabBarTestID;\n    };\n\n    _handleTabPress = ({ route }) => {\n      this._isTabPress = true;\n\n      const { descriptors } = this.props;\n      const descriptor = descriptors[route.key];\n      const { navigation, options } = descriptor;\n\n      const defaultHandler = () => {\n        if (navigation.isFocused()) {\n          if (route.hasOwnProperty('index') && route.index > 0) {\n            // If current tab has a nested navigator, pop to top\n            navigation.dispatch(StackActions.popToTop({ key: route.key }));\n          } else {\n            // TODO: do something to scroll to top\n          }\n        } else {\n          this._jumpTo(route.routeName);\n        }\n      };\n\n      if (options.tabBarOnPress) {\n        options.tabBarOnPress({ navigation, defaultHandler });\n      } else {\n        defaultHandler();\n      }\n    };\n\n    _handleIndexChange = index => {\n      if (this._isTabPress) {\n        this._isTabPress = false;\n        return;\n      }\n\n      this._jumpTo(this.props.navigation.state.routes[index].routeName);\n    };\n\n    _handleSwipeStart = () => {\n      this.setState({ isSwiping: true });\n    };\n\n    _handleSwipeEnd = () => {\n      this.setState({ isSwiping: false });\n    };\n\n    _jumpTo = routeName => this.props.navigation.dispatch(NavigationActions.navigate({ routeName }));\n\n    _isTabPress = false;\n\n    render() {\n      const { descriptors, navigation, screenProps } = this.props;\n      const { state } = navigation;\n      const route = state.routes[state.index];\n      const descriptor = descriptors[route.key];\n      const options = {\n        ...this.props.navigationConfig,\n        ...descriptor.options\n      };\n\n      return <TabView {...options} getLabelText={this._getLabelText} getButtonComponent={this._getButtonComponent} getAccessibilityLabel={this._getAccessibilityLabel} getTestID={this._getTestID} renderIcon={this._renderIcon} renderScene={this._renderScene} onIndexChange={this._handleIndexChange} onTabPress={this._handleTabPress} navigation={navigation} descriptors={descriptors} screenProps={screenProps} />;\n    }\n  }\n\n  return (routes, config = {}) => {\n    const router = TabRouter(routes, config);\n    const navigator = createNavigator(NavigationView, router, config);\n\n    return createNavigationContainer(navigator);\n  };\n}"]},"metadata":{},"sourceType":"module"}