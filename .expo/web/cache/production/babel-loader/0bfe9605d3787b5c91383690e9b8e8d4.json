{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import PropTypes from'prop-types';import{polyfill}from'react-lifecycles-compat';import SceneView from\"./SceneView\";var FAR_FAR_AWAY=3000;var ResourceSavingSceneView=function(_React$PureComponent){_inherits(ResourceSavingSceneView,_React$PureComponent);var _super=_createSuper(ResourceSavingSceneView);_createClass(ResourceSavingSceneView,null,[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.isFocused&&!prevState.awake){return{awake:true};}else{return null;}}}]);function ResourceSavingSceneView(props){var _this;_classCallCheck(this,ResourceSavingSceneView);_this=_super.call(this);_this._mustAlwaysBeVisible=function(){return _this.props.animationEnabled||_this.props.swipeEnabled;};_this.state={awake:props.lazy?props.isFocused:true};return _this;}_createClass(ResourceSavingSceneView,[{key:\"render\",value:function render(){var awake=this.state.awake;var _this$props=this.props,isFocused=_this$props.isFocused,childNavigation=_this$props.childNavigation,navigation=_this$props.navigation,removeClippedSubviews=_this$props.removeClippedSubviews,lazy=_this$props.lazy,rest=_objectWithoutProperties(_this$props,[\"isFocused\",\"childNavigation\",\"navigation\",\"removeClippedSubviews\",\"lazy\"]);return React.createElement(View,{style:styles.container,collapsable:false,removeClippedSubviews:Platform.OS==='android'?removeClippedSubviews:!isFocused&&removeClippedSubviews},React.createElement(View,{style:this._mustAlwaysBeVisible()||isFocused?styles.innerAttached:styles.innerDetached},awake?React.createElement(SceneView,_extends({},rest,{navigation:childNavigation})):null));}}]);return ResourceSavingSceneView;}(React.PureComponent);var styles=StyleSheet.create({container:{flex:1,overflow:'hidden'},innerAttached:{flex:1},innerDetached:{flex:1,top:FAR_FAR_AWAY}});export default polyfill(ResourceSavingSceneView);","map":{"version":3,"sources":["E:/photofeed/node_modules/react-navigation/src/views/ResourceSavingSceneView.js"],"names":["React","PropTypes","polyfill","SceneView","FAR_FAR_AWAY","ResourceSavingSceneView","nextProps","prevState","isFocused","awake","props","_mustAlwaysBeVisible","animationEnabled","swipeEnabled","state","lazy","childNavigation","navigation","removeClippedSubviews","rest","styles","container","Platform","OS","innerAttached","innerDetached","PureComponent","StyleSheet","create","flex","overflow","top"],"mappings":"0oCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,mLAEA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAASC,QAAT,KAAyB,yBAAzB,CAEA,MAAOC,CAAAA,SAAP,mBAEA,GAAMC,CAAAA,YAAY,CAAG,IAArB,C,GAEMC,CAAAA,uB,4PAC4BC,S,CAAWC,S,CAAW,CACpD,GAAID,SAAS,CAACE,SAAV,EAAuB,CAACD,SAAS,CAACE,KAAtC,CAA6C,CAC3C,MAAO,CAAEA,KAAK,CAAE,IAAT,CAAP,CACD,CAFD,IAEO,CACL,MAAO,KAAP,CACD,CACF,C,IAED,iCAAYC,KAAZ,CAAmB,yDACjB,wBADiB,MA0CnBC,oBA1CmB,CA0CI,UAAM,CAC3B,MAAO,OAAKD,KAAL,CAAWE,gBAAX,EAA+B,MAAKF,KAAL,CAAWG,YAAjD,CACD,CA5CkB,CAGjB,MAAKC,KAAL,CAAa,CACXL,KAAK,CAAEC,KAAK,CAACK,IAAN,CAAaL,KAAK,CAACF,SAAnB,CAA+B,IAD3B,CAAb,CAHiB,aAMlB,C,2EAEQ,IACCC,CAAAA,KADD,CACW,KAAKK,KADhB,CACCL,KADD,iBASH,KAAKC,KATF,CAGLF,SAHK,aAGLA,SAHK,CAILQ,eAJK,aAILA,eAJK,CAKLC,UALK,aAKLA,UALK,CAMLC,qBANK,aAMLA,qBANK,CAOLH,IAPK,aAOLA,IAPK,CAQFI,IARE,mHAWP,MACE,qBAAC,IAAD,EACE,KAAK,CAAEC,MAAM,CAACC,SADhB,CAEE,WAAW,CAAE,KAFf,CAGE,qBAAqB,CACnBC,QAAQ,CAACC,EAAT,GAAgB,SAAhB,CACIL,qBADJ,CAEI,CAACV,SAAD,EAAcU,qBANtB,EASE,oBAAC,IAAD,EACE,KAAK,CACH,KAAKP,oBAAL,IAA+BH,SAA/B,CACIY,MAAM,CAACI,aADX,CAEIJ,MAAM,CAACK,aAJf,EAOGhB,KAAK,CAAG,oBAAC,SAAD,aAAeU,IAAf,EAAqB,UAAU,CAAEH,eAAjC,GAAH,CAA0D,IAPlE,CATF,CADF,CAqBD,C,qCAjDmChB,KAAK,CAAC0B,a,EAwD5C,GAAMN,CAAAA,MAAM,CAAGO,UAAU,CAACC,MAAX,CAAkB,CAC/BP,SAAS,CAAE,CACTQ,IAAI,CAAE,CADG,CAETC,QAAQ,CAAE,QAFD,CADoB,CAK/BN,aAAa,CAAE,CACbK,IAAI,CAAE,CADO,CALgB,CAQ/BJ,aAAa,CAAE,CACbI,IAAI,CAAE,CADO,CAEbE,GAAG,CAAE3B,YAFQ,CARgB,CAAlB,CAAf,CAcA,cAAeF,CAAAA,QAAQ,CAACG,uBAAD,CAAvB","sourcesContent":["import React from 'react';\nimport { Platform, StyleSheet, View } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport SceneView from './SceneView';\n\nconst FAR_FAR_AWAY = 3000; // this should be big enough to move the whole view out of its container\n\nclass ResourceSavingSceneView extends React.PureComponent {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.isFocused && !prevState.awake) {\n      return { awake: true };\n    } else {\n      return null;\n    }\n  }\n\n  constructor(props) {\n    super();\n\n    this.state = {\n      awake: props.lazy ? props.isFocused : true,\n    };\n  }\n\n  render() {\n    const { awake } = this.state;\n    const {\n      isFocused,\n      childNavigation,\n      navigation,\n      removeClippedSubviews,\n      lazy,\n      ...rest\n    } = this.props;\n\n    return (\n      <View\n        style={styles.container}\n        collapsable={false}\n        removeClippedSubviews={\n          Platform.OS === 'android'\n            ? removeClippedSubviews\n            : !isFocused && removeClippedSubviews\n        }\n      >\n        <View\n          style={\n            this._mustAlwaysBeVisible() || isFocused\n              ? styles.innerAttached\n              : styles.innerDetached\n          }\n        >\n          {awake ? <SceneView {...rest} navigation={childNavigation} /> : null}\n        </View>\n      </View>\n    );\n  }\n\n  _mustAlwaysBeVisible = () => {\n    return this.props.animationEnabled || this.props.swipeEnabled;\n  };\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n  },\n  innerAttached: {\n    flex: 1,\n  },\n  innerDetached: {\n    flex: 1,\n    top: FAR_FAR_AWAY,\n  },\n});\n\nexport default polyfill(ResourceSavingSceneView);\n"]},"metadata":{},"sourceType":"module"}