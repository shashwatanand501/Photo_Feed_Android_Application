{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Image from\"react-native-web/dist/exports/Image\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableItem from\"../TouchableItem\";import defaultBackImage from\"../assets/back-icon.png\";var HeaderBackButton=function(_React$PureComponent){_inherits(HeaderBackButton,_React$PureComponent);var _super=_createSuper(HeaderBackButton);function HeaderBackButton(){var _this;_classCallCheck(this,HeaderBackButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this._onTextLayout=function(e){if(_this.state.initialTextWidth){return;}_this.setState({initialTextWidth:e.nativeEvent.layout.x+e.nativeEvent.layout.width});};return _this;}_createClass(HeaderBackButton,[{key:\"_renderBackImage\",value:function _renderBackImage(){var _this$props=this.props,backImage=_this$props.backImage,title=_this$props.title,tintColor=_this$props.tintColor;var BackImage;var props;if(React.isValidElement(backImage)){return backImage;}else if(backImage){BackImage=backImage;props={tintColor:tintColor,title:title};}else{BackImage=Image;props={style:[styles.icon,!!title&&styles.iconWithTitle,!!tintColor&&{tintColor:tintColor}],source:defaultBackImage};}return React.createElement(BackImage,props);}},{key:\"_maybeRenderTitle\",value:function _maybeRenderTitle(){var _this$props2=this.props,layoutPreset=_this$props2.layoutPreset,backTitleVisible=_this$props2.backTitleVisible,width=_this$props2.width,title=_this$props2.title,titleStyle=_this$props2.titleStyle,tintColor=_this$props2.tintColor,truncatedTitle=_this$props2.truncatedTitle;var renderTruncated=this.state.initialTextWidth&&width?this.state.initialTextWidth>width:false;var backButtonTitle=renderTruncated?truncatedTitle:title;var titleDefaultsToDisabled=layoutPreset==='left'||Platform.OS==='android'||typeof backButtonTitle!=='string';if(titleDefaultsToDisabled&&!backTitleVisible){return null;}return React.createElement(Text,{accessible:false,onLayout:this._onTextLayout,style:[styles.title,!!tintColor&&{color:tintColor},titleStyle],numberOfLines:1},backButtonTitle);}},{key:\"render\",value:function render(){var _this$props3=this.props,onPress=_this$props3.onPress,pressColorAndroid=_this$props3.pressColorAndroid,title=_this$props3.title;var button=React.createElement(TouchableItem,{accessible:false,accessibilityComponentType:\"button\",accessibilityLabel:title,accessibilityTraits:\"button\",testID:\"header-back\",delayPressIn:0,onPress:onPress,pressColor:pressColorAndroid,style:styles.container,borderless:true},React.createElement(View,{style:styles.container},this._renderBackImage(),this._maybeRenderTitle()));if(Platform.OS==='android'){return React.createElement(View,{style:styles.androidButtonWrapper},button);}else{return button;}}}]);return HeaderBackButton;}(React.PureComponent);HeaderBackButton.defaultProps={pressColorAndroid:'rgba(0, 0, 0, .32)',tintColor:Platform.select({ios:'#037aff'}),truncatedTitle:'Back'};var styles=StyleSheet.create({androidButtonWrapper:{margin:13,backgroundColor:'transparent'},container:{alignItems:'center',flexDirection:'row',backgroundColor:'transparent'},title:{fontSize:17,paddingRight:10},icon:Platform.OS==='ios'?{height:21,width:13,marginLeft:9,marginRight:22,marginVertical:12,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]}:{height:24,width:24,margin:3,resizeMode:'contain',transform:[{scaleX:I18nManager.isRTL?-1:1}]},iconWithTitle:Platform.OS==='ios'?{marginRight:6}:{}});export default HeaderBackButton;","map":{"version":3,"sources":["E:/photofeed/node_modules/react-navigation-stack/dist/views/Header/HeaderBackButton.js"],"names":["React","TouchableItem","defaultBackImage","HeaderBackButton","state","_onTextLayout","e","initialTextWidth","setState","nativeEvent","layout","x","width","props","backImage","title","tintColor","BackImage","isValidElement","Image","style","styles","icon","iconWithTitle","source","layoutPreset","backTitleVisible","titleStyle","truncatedTitle","renderTruncated","backButtonTitle","titleDefaultsToDisabled","Platform","OS","color","onPress","pressColorAndroid","button","container","_renderBackImage","_maybeRenderTitle","androidButtonWrapper","PureComponent","defaultProps","select","ios","StyleSheet","create","margin","backgroundColor","alignItems","flexDirection","fontSize","paddingRight","height","marginLeft","marginRight","marginVertical","resizeMode","transform","scaleX","I18nManager","isRTL"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { I18nManager, Image, Text, View, Platform, StyleSheet } from 'react-native';\n\nimport TouchableItem from '../TouchableItem';\n\nimport defaultBackImage from '../assets/back-icon.png';\n\nclass HeaderBackButton extends React.PureComponent {\n  static defaultProps = {\n    pressColorAndroid: 'rgba(0, 0, 0, .32)',\n    tintColor: Platform.select({\n      ios: '#037aff'\n    }),\n    truncatedTitle: 'Back'\n  };\n\n  state = {};\n\n  _onTextLayout = e => {\n    if (this.state.initialTextWidth) {\n      return;\n    }\n    this.setState({\n      initialTextWidth: e.nativeEvent.layout.x + e.nativeEvent.layout.width\n    });\n  };\n\n  _renderBackImage() {\n    const { backImage, title, tintColor } = this.props;\n\n    let BackImage;\n    let props;\n\n    if (React.isValidElement(backImage)) {\n      return backImage;\n    } else if (backImage) {\n      BackImage = backImage;\n      props = {\n        tintColor,\n        title\n      };\n    } else {\n      BackImage = Image;\n      props = {\n        style: [styles.icon, !!title && styles.iconWithTitle, !!tintColor && { tintColor }],\n        source: defaultBackImage\n      };\n    }\n\n    return <BackImage {...props} />;\n  }\n\n  _maybeRenderTitle() {\n    const {\n      layoutPreset,\n      backTitleVisible,\n      width,\n      title,\n      titleStyle,\n      tintColor,\n      truncatedTitle\n    } = this.props;\n\n    const renderTruncated = this.state.initialTextWidth && width ? this.state.initialTextWidth > width : false;\n\n    const backButtonTitle = renderTruncated ? truncatedTitle : title;\n\n    // If the left preset is used and we aren't on Android, then we\n    // default to disabling the label\n    const titleDefaultsToDisabled = layoutPreset === 'left' || Platform.OS === 'android' || typeof backButtonTitle !== 'string';\n\n    // If the title is explicitly enabled then we respect that\n    if (titleDefaultsToDisabled && !backTitleVisible) {\n      return null;\n    }\n\n    return <Text accessible={false} onLayout={this._onTextLayout} style={[styles.title, !!tintColor && { color: tintColor }, titleStyle]} numberOfLines={1}>\n        {backButtonTitle}\n      </Text>;\n  }\n\n  render() {\n    const { onPress, pressColorAndroid, title } = this.props;\n\n    let button = <TouchableItem accessible={false} accessibilityComponentType=\"button\" accessibilityLabel={title} accessibilityTraits=\"button\" testID=\"header-back\" delayPressIn={0} onPress={onPress} pressColor={pressColorAndroid} style={styles.container} borderless>\n        <View style={styles.container}>\n          {this._renderBackImage()}\n          {this._maybeRenderTitle()}\n        </View>\n      </TouchableItem>;\n\n    if (Platform.OS === 'android') {\n      return <View style={styles.androidButtonWrapper}>{button}</View>;\n    } else {\n      return button;\n    }\n  }\n}\n\nconst styles = StyleSheet.create({\n  androidButtonWrapper: {\n    margin: 13,\n    backgroundColor: 'transparent'\n  },\n  container: {\n    alignItems: 'center',\n    flexDirection: 'row',\n    backgroundColor: 'transparent'\n  },\n  title: {\n    fontSize: 17,\n    paddingRight: 10\n  },\n  icon: Platform.OS === 'ios' ? {\n    height: 21,\n    width: 13,\n    marginLeft: 9,\n    marginRight: 22,\n    marginVertical: 12,\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }]\n  } : {\n    height: 24,\n    width: 24,\n    margin: 3,\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }]\n  },\n  iconWithTitle: Platform.OS === 'ios' ? {\n    marginRight: 6\n  } : {}\n});\n\nexport default HeaderBackButton;"]},"metadata":{},"sourceType":"module"}